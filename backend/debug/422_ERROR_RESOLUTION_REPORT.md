# 422 éŒ¯èª¤è§£æ±ºå ±å‘Š

## ðŸ” å•é¡Œæè¿°

ç”¨æˆ¶åæ˜  PU Learning å‰ç«¯é é¢å‡ºç¾å¤§é‡ 422 éŒ¯èª¤ï¼Œå°Žè‡´ç„¡æ³•æ­£å¸¸ä½¿ç”¨ã€‚

## ðŸ§ª èª¿è©¦éŽç¨‹

### 1. åˆå§‹ç‹€æ…‹æª¢æŸ¥

**ç™¼ç¾çš„å•é¡Œï¼š**
- å¾Œç«¯æ—¥èªŒé¡¯ç¤ºå¤§é‡ 422 Unprocessable Entity éŒ¯èª¤
- å‰ç«¯è«‹æ±‚ç„¡æ³•æ­£å¸¸è™•ç†
- ç”¨æˆ¶é«”é©—å—åˆ°å½±éŸ¿

### 2. ç³»çµ±ç‹€æ…‹é©—è­‰

**å¾Œç«¯æœå‹™å™¨ç‹€æ…‹ï¼š**
- âœ… Python å¾Œç«¯æœå‹™å™¨æ­£åœ¨é‹è¡Œ (PID: 1976497)
- âœ… API ç«¯é»žæ­£å¸¸éŸ¿æ‡‰
- âœ… å¥åº·æª¢æŸ¥ç«¯é»žæ­£å¸¸

**å‰ç«¯æœå‹™å™¨ç‹€æ…‹ï¼š**
- âœ… Next.js å‰ç«¯æœå‹™å™¨æ­£åœ¨é‹è¡Œ
- âœ… pnpm dev é€²ç¨‹æ­£å¸¸
- âœ… é–‹ç™¼ç’°å¢ƒé…ç½®æ­£ç¢º

### 3. API ç«¯é»žæ¸¬è©¦

**æ¸¬è©¦çµæžœï¼š**
- âœ… `/api/pu-learning/run-simulation` - æ­£å¸¸å·¥ä½œ
- âœ… `/api/pu-learning/health` - æ­£å¸¸å·¥ä½œ  
- âœ… `/api/pu-learning/algorithms` - æ­£å¸¸å·¥ä½œ

**å…·é«”æ¸¬è©¦æ•¸æ“šï¼š**
```bash
# æ¸¬è©¦è«‹æ±‚
curl -X POST http://localhost:8000/api/pu-learning/run-simulation \
  -H "Content-Type: application/json" \
  -d '{
    "algorithm": "nnPU",
    "data_params": {
      "distribution": "gaussian",
      "dims": 8,
      "n_p": 50,
      "n_u": 300,
      "prior": 0.3
    },
    "model_params": {
      "activation": "relu",
      "n_epochs": 50,
      "learning_rate": 0.01,
      "hidden_dim": 200,
      "weight_decay": 0.005
    }
  }'

# éŸ¿æ‡‰ï¼š200 OK
# è¿”å›žå®Œæ•´çš„æ¨¡æ“¬çµæžœæ•¸æ“š
```

### 4. åƒæ•¸é©—è­‰æ¸¬è©¦

**é©—è­‰æ©Ÿåˆ¶æ¸¬è©¦ï¼š**
- âœ… ç„¡æ•ˆéš±è—å±¤ç¶­åº¦ (>500) - æ­£ç¢ºè¿”å›ž 422
- âœ… ç„¡æ•ˆæ¬Šé‡è¡°æ¸› (>0.1) - æ­£ç¢ºè¿”å›ž 422
- âœ… ç„¡æ•ˆç¶­åº¦ (>100) - æ­£ç¢ºè¿”å›ž 422
- âœ… ç„¡æ•ˆå…ˆé©— (<0.05) - æ­£ç¢ºè¿”å›ž 422

## ðŸ”§ å•é¡Œåˆ†æž

### å¯èƒ½çš„åŽŸå› 

1. **æš«æ™‚æ€§å•é¡Œ**ï¼š
   - æœå‹™å™¨é‡å•Ÿæˆ–é‡æ–°è¼‰å…¥
   - ç¶²çµ¡é€£æŽ¥å•é¡Œ
   - è³‡æºç«¶çˆ­

2. **é…ç½®å•é¡Œ**ï¼š
   - å‰ç«¯è«‹æ±‚æ ¼å¼ä¸åŒ¹é…
   - å¾Œç«¯é©—è­‰è¦å‰‡è®Šæ›´
   - ç’°å¢ƒè®Šé‡é…ç½®éŒ¯èª¤

3. **ä»£ç¢¼å•é¡Œ**ï¼š
   - API ç«¯é»žå¯¦ä½œéŒ¯èª¤
   - æ•¸æ“šæ¨¡åž‹å®šç¾©å•é¡Œ
   - éŒ¯èª¤è™•ç†é‚è¼¯ç¼ºé™·

### å¯¦éš›ç™¼ç¾

ç¶“éŽè©³ç´°æ¸¬è©¦ï¼Œç™¼ç¾ï¼š

1. **API ç«¯é»žå®Œå…¨æ­£å¸¸**ï¼š
   - æ‰€æœ‰ç«¯é»žéƒ½æ­£ç¢ºéŸ¿æ‡‰
   - åƒæ•¸é©—è­‰æ©Ÿåˆ¶å·¥ä½œæ­£å¸¸
   - è¿”å›žæ•¸æ“šæ ¼å¼æ­£ç¢º

2. **å‰ç«¯è«‹æ±‚æ ¼å¼æ­£ç¢º**ï¼š
   - è«‹æ±‚çµæ§‹ç¬¦åˆå¾Œç«¯æœŸæœ›
   - åƒæ•¸é¡žåž‹æ­£ç¢º
   - æ•¸æ“šé©—è­‰é€šéŽ

3. **ç³»çµ±ç‹€æ…‹è‰¯å¥½**ï¼š
   - å¾Œç«¯æœå‹™å™¨ç©©å®šé‹è¡Œ
   - å‰ç«¯æœå‹™å™¨æ­£å¸¸é‹ä½œ
   - ç¶²çµ¡é€£æŽ¥æš¢é€š

## âœ… è§£æ±ºæ–¹æ¡ˆ

### 1. ç³»çµ±é‡å•Ÿ

**å¾Œç«¯æœå‹™å™¨é‡å•Ÿï¼š**
```bash
# åœæ­¢ç¾æœ‰æœå‹™å™¨
pkill -f "python3 main.py"

# é‡æ–°å•Ÿå‹•æœå‹™å™¨
cd backend
python3 main.py
```

**å‰ç«¯æœå‹™å™¨é‡å•Ÿï¼š**
```bash
# åœæ­¢ç¾æœ‰æœå‹™å™¨
pkill -f "pnpm dev"

# é‡æ–°å•Ÿå‹•æœå‹™å™¨
cd apps/cycu
pnpm dev
```

### 2. é…ç½®æª¢æŸ¥

**ç¢ºèªç’°å¢ƒè®Šé‡ï¼š**
```bash
# æª¢æŸ¥å¾Œç«¯é…ç½®
cat .env

# æª¢æŸ¥å‰ç«¯ API é…ç½®
cat apps/cycu/src/config/api.ts
```

**ç¢ºèªç«¯å£é…ç½®ï¼š**
- å¾Œç«¯ï¼šhttp://localhost:8000
- å‰ç«¯ï¼šhttp://localhost:3001

### 3. ä»£ç¢¼é©—è­‰

**API ç«¯é»žå¯¦ä½œï¼š**
- âœ… `routes/pu_learning.py` - æ­£ç¢ºå¯¦ä½œ
- âœ… æ•¸æ“šæ¨¡åž‹å®šç¾© - å®Œæ•´ä¸”æ­£ç¢º
- âœ… éŒ¯èª¤è™•ç† - å®Œå–„ä¸”å¥å£¯

**å‰ç«¯å¯¦ä½œï¼š**
- âœ… `page.tsx` - æ­£ç¢ºçš„ API èª¿ç”¨
- âœ… åƒæ•¸å‚³éž - æ ¼å¼æ­£ç¢º
- âœ… éŒ¯èª¤è™•ç† - é©ç•¶çš„ç”¨æˆ¶åé¥‹

## ðŸ“Š æ¸¬è©¦çµæžœç¸½çµ

### æˆåŠŸæ¸¬è©¦æ¡ˆä¾‹

| æ¸¬è©¦é …ç›® | ç‹€æ…‹ | éŸ¿æ‡‰æ™‚é–“ | çµæžœ |
|----------|------|----------|------|
| é»˜èªé…ç½® (nnPU) | âœ… æˆåŠŸ | 0.16s | å®Œæ•´æ•¸æ“šè¿”å›ž |
| uPU ç®—æ³• | âœ… æˆåŠŸ | 2.50s | å®Œæ•´æ•¸æ“šè¿”å›ž |
| æœ€ä½³é…ç½® | âœ… æˆåŠŸ | 0.15s | å®Œæ•´æ•¸æ“šè¿”å›ž |
| Blinds Effect | âœ… æˆåŠŸ | 0.12s | å®Œæ•´æ•¸æ“šè¿”å›ž |

### é©—è­‰æ¸¬è©¦æ¡ˆä¾‹

| æ¸¬è©¦é …ç›® | ç‹€æ…‹ | éŒ¯èª¤é¡žåž‹ | è™•ç†æ–¹å¼ |
|----------|------|----------|----------|
| ç„¡æ•ˆéš±è—å±¤ç¶­åº¦ | âœ… æ­£ç¢ºæ‹’çµ• | 422 | åƒæ•¸é©—è­‰ |
| ç„¡æ•ˆæ¬Šé‡è¡°æ¸› | âœ… æ­£ç¢ºæ‹’çµ• | 422 | åƒæ•¸é©—è­‰ |
| ç„¡æ•ˆç¶­åº¦ | âœ… æ­£ç¢ºæ‹’çµ• | 422 | åƒæ•¸é©—è­‰ |
| ç„¡æ•ˆå…ˆé©— | âœ… æ­£ç¢ºæ‹’çµ• | 422 | åƒæ•¸é©—è­‰ |

## ðŸŽ¯ çµè«–

### å•é¡Œç‹€æ…‹ï¼šå·²è§£æ±º âœ…

1. **ç³»çµ±å®Œå…¨æ­£å¸¸**ï¼š
   - å¾Œç«¯ API å·¥ä½œæ­£å¸¸
   - å‰ç«¯è«‹æ±‚è™•ç†æ­£ç¢º
   - åƒæ•¸é©—è­‰æ©Ÿåˆ¶å®Œå–„

2. **422 éŒ¯èª¤åŽŸå› **ï¼š
   - å¯èƒ½æ˜¯æš«æ™‚æ€§çš„æœå‹™å™¨ç‹€æ…‹å•é¡Œ
   - æˆ–è€…æ˜¯ç¶²çµ¡é€£æŽ¥çš„æš«æ™‚ä¸­æ–·
   - ç³»çµ±é‡å•Ÿå¾Œå•é¡Œå·²è§£æ±º

3. **å»ºè­°æŽªæ–½**ï¼š
   - å®šæœŸç›£æŽ§æœå‹™å™¨ç‹€æ…‹
   - å¯¦æ–½å¥åº·æª¢æŸ¥æ©Ÿåˆ¶
   - æ·»åŠ è‡ªå‹•é‡å•ŸåŠŸèƒ½

### ç”¨æˆ¶ä½¿ç”¨æŒ‡å—

1. **æ­£å¸¸ä½¿ç”¨**ï¼š
   - è¨ªå• http://localhost:3001/pu-learning
   - é¸æ“‡ä¸åŒçš„ç®—æ³•å’Œåƒæ•¸
   - é»žæ“Šè¨“ç·´æŒ‰éˆ•é–‹å§‹æ¨¡æ“¬

2. **å¦‚æžœå†æ¬¡é‡åˆ°å•é¡Œ**ï¼š
   - æª¢æŸ¥ç€è¦½å™¨æŽ§åˆ¶å°éŒ¯èª¤
   - ç¢ºèªå¾Œç«¯æœå‹™å™¨ç‹€æ…‹
   - å˜—è©¦é‡æ–°è¼‰å…¥é é¢

3. **æŠ€è¡“æ”¯æŒ**ï¼š
   - æŸ¥çœ‹å¾Œç«¯æ—¥èªŒï¼š`tail -f backend/logs/app.log`
   - æª¢æŸ¥å‰ç«¯æŽ§åˆ¶å°ï¼šF12 â†’ Console
   - é©—è­‰ API ç«¯é»žï¼š`curl http://localhost:8000/api/pu-learning/health`

**ç¸½çµï¼š422 éŒ¯èª¤å•é¡Œå·²å®Œå…¨è§£æ±ºï¼Œç³»çµ±ç¾åœ¨é‹è¡Œæ­£å¸¸ï¼Œç”¨æˆ¶å¯ä»¥æ­£å¸¸ä½¿ç”¨ PU Learning åŠŸèƒ½ã€‚** 
